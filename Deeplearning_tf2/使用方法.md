# 需要安装python3.x的库
==<font size=5>我使用的是python 3.7.9</font>==
- miniconda or anaconda
- pillow
- tensorflow2.x  (个人使用的是tensorflow2.3)
- GDAL
# 使用介绍
## 使用时，将影像命名遵循0001-->9999，避免排序错误
1. 打开==imgdeal_.py==，修改第18行路径，将tf_img_seg.py载入环境
2. 修改32-42行中对应的文件路径，如果仅预测无需标签图像，令img_label=r''
3. 执行==imgdeal_.py==的main函数
    1. main(0)为影像预处理并保存
    2. main(1)使用Tensorflow2框架训练语义分割模型，并保存logs以及权重
    3. main(2)使用已经训练好的模型进行预测，==提供两个已经训练好的权重，可直接调用==
    4. main(3)对模型预测结果进行合并，并根据原来影像的坐标赋予坐标系
    5. main(4)调用tensorflow中的可视化模块tensorboard进行网页端显示，包含有训练时损失值、精度、iou的变化

# 结果说明
## 输出结果时能够自动新建文件夹，无需手动建立
1. 输入文件夹：image 、 label分别对应*底图*和*标签*
2. 预处理输出文件夹：image_splice 、 label_splice 分别对应*底图*和*标签分割后的图像*
3. 深度学习模型输出文件夹：logs、bright_HD分别保存*日志文件*和*模型权重*
4. 深度学习模型预测输出文件夹：pre
5. 后处理输出文件夹：pre_union 将输出图像合并，并赋予坐标系
